# Define your project views root path
$rootPath = "C:\Path\To\Your\Project\Views"

# Load all .cshtml files
$files = Get-ChildItem -Path $rootPath -Recurse -Include *.cshtml

foreach ($file in $files) {
    Write-Host "ðŸ”§ Processing $($file.FullName)..."

    $content = Get-Content $file.FullName -Raw

    # ==============================
    # Bootstrap 4 âž¡ Bootstrap 5 Replacements
    # ==============================

    # Layout spacing
    $content = $content -replace '\bform-group\b', 'mb-3'
    $content = $content -replace '\bform-inline\b', 'row g-3 align-items-center'

    # Float utilities
    $content = $content -replace '\bfloat-right\b', 'float-end'
    $content = $content -replace '\bfloat-left\b', 'float-start'

    # Button utilities
    $content = $content -replace '\bbtn-block\b', 'w-100'

    # Custom checkboxes & radios â†’ form-check
    $content = $content -replace '\bcustom-control\b', 'form-check'
    $content = $content -replace '\bcustom-checkbox\b', 'form-check'
    $content = $content -replace '\bcustom-radio\b', 'form-check'
    $content = $content -replace '\bcustom-control-input\b', 'form-check-input'
    $content = $content -replace '\bcustom-control-label\b', 'form-check-label'

    # Input group text (input-group-prepend/append removed)
    $content = $content -replace '\binput-group-prepend\b', ''
    $content = $content -replace '\binput-group-append\b', ''
    $content = $content -replace '\binput-group-text\b', 'form-control'

    # Card headers and footers spacing fix (optional)
    $content = $content -replace '\bcard-header\b', 'card-header py-3'
    $content = $content -replace '\bcard-footer\b', 'card-footer py-3'

    # Navbar changes
    $content = $content -replace '\bnavbar-light\b', 'navbar-light bg-light'
    $content = $content -replace '\bnavbar-dark\b', 'navbar-dark bg-dark'
    $content = $content -replace '\bml-auto\b', 'ms-auto'
    $content = $content -replace '\bmr-auto\b', 'me-auto'

    # Grid updates
    $content = $content -replace '\bcol-form-label\b', 'col-form-label'
    $content = $content -replace '\bform-row\b', 'row'

    # Label update if not already has class
    $content = $content -replace '<label([^>]*)(?<!form-label)>', '<label class="form-label"$1>'

    # Write back updated file
    Set-Content -Path $file.FullName -Value $content -Encoding UTF8
}

Write-Host "âœ… Bootstrap class updates complete!"